var modal=undefined;var filename=undefined;var selectedRow=undefined;var table=undefined;$(function(){$("#pipelinecontent").hide();$("#ajax-result").hide();table=$("#pipeline-table").DataTable();modal=$("#delete-confirmation")});$(".treectrl").click(function(){$this=$(this);var a=$this.data("command");$("#tree").jstree(a)});$("#btn_dwnl_pan").click(function(){var a=$("#pipelinecontent").data("filename");downloadPipeline(a)});$("#btn_del_pan").click(function(){var a=$("#pipelinecontent").data("filename");$("#delete-conf-file").text(a);modal.modal()});$(".fileaction").click(function(a){$this=$(this);filename=$this.data("filename");var b=$this.data("action");selectedRow=findTableRow($this);if(b=="view"){showPipeline(filename)}else{if(b=="delete"){$("#delete-conf-file").text(filename);modal.modal()}else{if(b=="download"){downloadPipeline(filename)}}}});$(".close-pipeline-panel").click(function(a){$("#pipelinecontent").hide("fast")});function deletePipeline(){modal.modal("hide");$.get(getRestUrl("deletePipeline",filename),function(a){$("#ajax-result").html(a);$("#ajax-result").removeClass("hidden")});if(selectedRow!==undefined){table.row(selectedRow).remove().draw()}if($("#pipelinecontent").data("filename")===filename){$("#pipelinecontent").hide("fast")}}function downloadPipeline(a){var b=getRestUrl("readPipeline",a,{download:true});window.open(b,"downloadPipeline")}function showPipeline(b){var a=$("#pipelinecontent");a.show("fast");a.data("filename",b);$("#pipelinecontent > div > h3.panel-title > span.servicename").html("<strong>Pipeline: </strong>"+b);scrollToAnchor(a);$.getJSON(getRestUrl("readPipeline",b),function(d){var c=createTreeNodes(d,0);$("#tree").jstree("destroy").jstree({core:{data:c}})})};