function scrollToAnchor(e){$("html,body").animate({scrollTop:e.offset().top},"fast")}function getRestUrl(e,n,t){var o="";if("object"==typeof t&&null!=t)for(var s in o="?",t)t.hasOwnProperty(s)&&(o+=s+"="+t[s]+"&");return encodeURI(restUrl+e+"/"+n+o)}function findTableRow(e){return e.closest("tr")}function keepAlive(){$.get("/invoke/wm.server:ping",function(e){console.log("invoke: wm.server:ping")}),window.setTimeout(keepAlive,2e4)}function initPage(){$(".selectpicker").selectpicker(),$('input[type="checkbox"]').checkbox({}),$("#wrapper").tooltip({selector:"[data-toggle=tooltip]",container:"body"})}function updatePanel(e){var n=$('div.connectionstate[data-ressource="'+e.name+'"]'),t=n.find("i.fa-5x");n.removeClass("panel-green"),n.removeClass("panel-red"),n.removeClass("panel-primary"),n.addClass("panel-"+e.color),n.find("div.huge").text(e.state),t.removeClass(),t.addClass("fa fa-"+e.icon+" fa-5x")}function createTreeNodes(e,n){var t=[];n+=1;try{$.each(e,function(e,o){if("string"==typeof o)t.push({text:'<span class="json key">'+e+' :</span> <span class="json value">&quot;'+o+"&quot;</span>",icon:"fa fa-quote-right fa-fw"});else if("number"==typeof o)t.push({text:'<span class="json key">'+e+' :</span> <span class="json value">'+o+"</span>",icon:"fa fa-sort-numeric-asc fa-fw"});else if("boolean"==typeof o)t.push({text:'<span class="json key">'+e+" :</span> <code>"+o+"</code>",icon:"fa fa-check-square-o fa-fw"});else if("object"==typeof o&&null!=o){var s={text:'<span class="json object">'+e+"</span>",children:createTreeNodes(o,n),icon:"fa fa-list-alt fa-fw",state:{opened:n<=1}};t.push(s)}else"object"==typeof o&&null==o?t.push({text:'<span class="json key">'+e+" :</span> <code>null</code>",icon:"fa fa-quote-right fa-fw"}):console.log("unknown type "+typeof o)})}catch(n){console.log("exception in createTreeNodes with object: "+JSON.stringify(e,null,2)),console.log(n)}return t}$(function(){$(window).bind("load resize",function(){topOffset=105,width=this.window.innerWidth>0?this.window.innerWidth:this.screen.width,width<768?($("div.navbar-collapse").addClass("collapse"),topOffset=100):$("div.navbar-collapse").removeClass("collapse"),height=this.window.innerHeight>0?this.window.innerHeight:this.screen.height,height-=topOffset,height<1&&(height=1),height>topOffset&&$("#page-wrapper").css("min-height",height+"px"),$("#side-menu").metisMenu(),initPage(),keepAlive()})}),$(document).ajaxError(function(e,n,t,o){$("#ajax-error-panel").append("<p><strong>Sorry, there was an error calling some ajax functions:</strong> "+o+"</p><pre>"+JSON.stringify(n,"false",2)+"</pre>"),$("#ajax-error-panel").show()}),function(e){e.fn.connectionPanel=function(){return this.each(function(n,t){var o=getRestUrl("getConnectionState",e(this).data("ressource"),{type:e(this).data("type")});e.getJSON(o,function(e){updatePanel(e)}).fail(function(e){console.log(JSON.stringify(e))})})}}(jQuery);